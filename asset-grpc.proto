syntax = "proto3";

package asset;

import "asset.proto";
import "sologenic/com-fs-utils-lib/models/metadata/metadata.proto";

option go_package = "github.com/sologenic/com-fs-asset-model;asset";

service AssetListService {
    // Upsert on Asset
    rpc UpsertAsset(Asset) returns (AssetKey);
    // Get Asset by Key 
    rpc GetAsset(AssetKey) returns (Asset);
    // Get all Assets for a given filter
    rpc GetAssets(AssetQuery) returns (Assets);

    // Upsert on UserAssetList
    rpc UpsertUserAssetList(UserAssetList) returns (UserAssetListKey);
    // Get UserAssetList by Key
    rpc GetUserAssetList(UserAssetListKey) returns (UserAssetList);
    // Get all UserAssetList for a given filter
    rpc GetUserAssetLists(UserAssetListQuery) returns (UserAssetLists);
}   

message AssetKey {
    string Key = 1;
}

message AssetQuery {
    metadata.Network Network = 1;
    optional int32 Offset = 2;
    // Compliance filter: list assets allowed in these jurisdictions
    repeated string JurisdictionIDs = 3;
    optional string OrganizationID = 4;
    optional AssetStatus Status = 5;
    optional AssetType AssetType = 6;
    // On-chain issuer address (distinct from Denom.Issuer)
    optional string SmartContractIssuerAddr = 7;
    optional int32 Limit = 8;
}

message UserAssetListKey {
    string Key = 1;
}

message UserAssetListQuery {
    metadata.Network Network = 1;
    optional int32 Offset = 2;
    optional string AccountID = 3;
    optional string Wallet = 4;
    optional string AssetKey = 5;
    optional UserAssetStatus Status = 6;
    optional bool Visible = 7;
    optional string OrganizationID = 8;
}
